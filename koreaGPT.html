<!DOCTYPE html>
<html lang="en">
	
	
	

<head>
	
  <!-- Required meta tags -->
	
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>KoreaGPT</title>
	
  <!-- plugins:css -->
  <link rel="stylesheet" href="vendors/feather/feather.css">
  <link rel="stylesheet" href="vendors/ti-icons/css/themify-icons.css">
	
  <link rel="stylesheet" href="vendors/css/vendor.bundle.base.css">
  <link rel="stylesheet" href="vendors/datatables.net-bs4/dataTables.bootstrap4.css">
  <link rel="stylesheet" href="vendors/ti-icons/css/themify-icons.css">
  <link rel="stylesheet" type="text/css" href="js/select.dataTables.min.css">
  <link rel="stylesheet" href="css/vertical-layout-light/style.css">
  <link rel="shortcut icon" href="images/favicon.png" />








  <script src="Script/includeHTML.js"></script>


</head>
<body>
  <div class="container-scroller">
    <!-- partial:partials/_navbar.html -->

    
	  
    <!-- partial -->
    <div class="container-fluid page-body-wrapper">
      <!-- partial:partials/_settings-panel.html -->

      
      
      <!-- partial -->
      <!-- partial:partials/_sidebar.html -->
      
      
      <!-- partial -->
      <div class="main-panel">
        <div class="content-wrapper" style="background-color: rgb(255, 255, 255);">
          <div class="row">
            <div class="col-md-12 grid-margin">
              <div class="row">
               
               
                <div class="col-12 col-xl-8 mb-4 mb-xl-0">
                  <h3 class="font-weight-bold">GPTchat3&nbsp;</h3>
                  <h6 class="font-weight-normal mb-0">Your pair AI writer.&nbsp;</h6>
                </div>

              

                
                
              </div>
            </div>
          </div>
    
          

          <div class="row">
            <div class="col-md-9 grid-margin stretch-card">
              <div class="card"  style="background-color: rgb(245, 247, 249);">
                <div class="card-body">
                  <div class="card stretch-card">
                    <div class="card-body">
                      <h4 class="card-title">GPTchat3</h4>
    
                      <div class="forms-sample">
                
                        <div class="form-group">
                          <label for="exampleTextarea1" id="2my-textarea">여기에 장문을 입력해주세요.</label>
                          <textarea class="form-control" id="my-textarea" rows="10"></textarea>
                        </div>
                        <button id="replace-button" class="btn btn-primary mr-2">변환!</button>
    
    
                      </br></br>
    
                        <div class="form-group">
     
                          <div id="textQ"></div>
                          
                        </div>
    
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>


            <div class="col-md-3 grid-margin stretch-card">
              <div class="card"  style="background-color: rgb(245, 247, 249);">
                <div class="card-body">
                  <div class="card stretch-card">
                    <div class="card-body">
                      <h4 class="card-title">GPTchat3란?</h4>
    
                      <form class="forms-sample">
                
                        <div class="form-group">
                          <label for="exampleTextarea1" id="2my-textarea">koreaGPT는 chatGPT로 번역된 문장을 블로그에 어색함 없이 자연스럽게 적용할 수 있는 문장으로 바꿔주는 툴입니다.</label>



                        </div>
 
                      </form>
                    </div>
                  </div>
                </div>
              </div>
            </div>



              
          </div>
          <div class="row">
            <div class="col-md-9 grid-margin stretch-card">
              <div class="card" style="background-color: rgb(245, 247, 249);">
                <div class="card-body">
                  <div class="card">
                    <div class="card-body">
                      <h4 class="card-title">GPT History</h4>

                      

                      
                      <form class="forms-sample">
                    
                         <div class="form-group">
     
                          <div id="textHistory"></div>
     
                        </div>
    
    
    
    
                      </form>
                    </div>
                  </div>
                </div>
              </div>
            </div>


            <div class="col-md-3 grid-margin stretch-card">
                <div class="card data-icon-card-primary">
                  <div class="card-body">
                    <p class="card-title text-white">-</p>                      
                    <div class="row">
                      <div class="col-8 text-white">
                        <h3>-</h3>
                        <p class="text-white font-weight-500 mb-0">-</p>
			      
			      
			      
			      <!-- Badge Code - Do Not Change The Code -->
<a class="hitCounter" href="https://visitorshitcounter.com/" target="_blank" title="Hit counter" data-name="3c407648acce1bbe1584d869eea20053|5|external|1|#ffffff|#929292|small|s-hit">Hit Counter</a><script>document.write("<script type='text/javascript' src='https://visitorshitcounter.com/js/hitCounter.js?v="+Date.now()+"'><\/script>");</script>
<!-- Badge Code End Here -->
			      
                      </div>

                    </div>
                    </div>
                  </div>
                </div>
            </div>
          </div>




 



           
          
        </div>
        <!-- content-wrapper ends -->
        <!-- partial:partials/_footer.html -->
        <!-- <footer class="footer">
          <div class="d-sm-flex justify-content-center justify-content-sm-between">
            <span class="text-muted text-center text-sm-left d-block d-sm-inline-block">Copyright © 2023.  DataEn by<a href="https://khu.ac.kr/" target="_blank"> Kihoon</a> from KHU BDAE. All rights reserved.</span>

          </div>

          
        </footer> -->
        <!-- partial -->
      </div>
      <!-- main-panel ends -->
    </div>   
    <!-- page-body-wrapper ends -->
  </div>
  <!-- container-scroller -->

  <!-- plugins:js -->

  <!-- Modal -->

<div class="modal fade" id="modalUpdate" tabindex="-1" role="dialog" aria-labelledby="modalUpdatePro" aria-hidden="true">
  
	<div class="modal-dialog modal-dialog-centered" role="document">
		<div class="modal-content">

      

			<div class="modal-body text-center">									
 					 
 						
            <div class="card-header">
              <div class="card-title"><a style="color: rgb(44, 43, 44); font-size: 24px;"><strong>게시판 쓰기</strong></a></div>
            </div>
            <div class="form-group">			 

             <div class="card-body">
              <textarea style="font-size: 20px;" class="form-control w-100" rows="1" name="subject" id="subject" cols="30" placeholder="익명 게시물 제목"></textarea></br>
              <textarea style="font-size: 15px;" class="form-control w-100" rows="9" name="comment" id="comment" cols="30" placeholder="익명 게시판의 이용에 따른 책임은 사용자에게 있으며, 특정 학생을 대상으로 한 저격,비방과 희롱 등 불쾌감을 유발하는 글은 봇에 의해 이유불문 삭제됩니다."></textarea></br>

              <div class="card-sub">		
         
                                      
                 <button type="button" class="btn btn-outline-primary btn-fw write" id="write" name="write" style="width: 100%;">익명게시물 쓰기</button> 
 
              </div>

            </div>

               </div>


						
 			</div>

       <!----
			<div class="modal-footer">
				<button type="button" class="btn btn-secondary" data-dismiss="modal">닫기</button>
			</div>

    -->



		</div>
	</div>
</div>










<div class="modal fade" id="modalUpdateN" tabindex="-1" role="dialog" aria-labelledby="modalUpdatePro" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered" role="document">
		<div class="modal-content">
			<div class="modal-header" style="background-color: #ffd900;">
				<h6 class="modal-title"><i class="la la-info-circle"></i> 공지</h6>
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="modal-body text-center">									
				<div id="scrollmodal" class="card" style="overflow:scroll;width:auto; height:400px;">
					 
					<div class="card-body">
						<div class="card-sub">
							공지가 여기에 표시됩니다. 
						</div>
						<div class="noticelist"></div>

						
					</div>
				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
			</div>
		</div>
	</div>
</div>











<script>

  const replaceButton = document.getElementById("replace-button");
  replaceButton.addEventListener("click", replaceHello);
  
  
  function replaceHello() {
  
  
    document.getElementById("textQ").innerHTML = "";

  
    document.getElementById("textQ").innerHTML += '</br><hr style="width:30%;text-align:left;margin-left:0">';
  
  
    setTimeout(function() {
  
      const textarea = document.getElementById("my-textarea");
      const textX = textarea.value;
      const replacedText = textX.replace(/습니다/g, "다").replace(/입니다/g, "이다").replace(/합니다/g, "한다").replace(/됩니다/g, "된다").replace(/입니까/g, "인가").replace(/인가요/g, "인가");
  
  
      const greeting = replacedText;
      let i = 0;
  
      function typeWriter() {
        if (i < greeting.length) {
          document.getElementById("textQ").innerHTML += greeting.charAt(i);
          i++;
          setTimeout(typeWriter, 50);

        }else{

          const OutputX = greeting.replace(/\n/g, '<br>').replace(/시발/g, "**").replace(/병신/g, "**").replace(/애미/g, "**").replace(/새끼/g, "싀끼").replace(/개년/g, "**").replace(/씨발/g, "**");

          

          document.getElementById("textQ").innerHTML = OutputX;
          document.getElementById("textHistory").innerHTML += "</br><hr>" + OutputX;

          



        }
      }
      typeWriter();
  
    }, 3000);
  }
  
  
  </script>










  <!--필수 자바스크립트 파일들 -->
  <script src="Script/jquery.min.js"></script>

  <script src="Script/modal.js"></script>
  <script src="Script/time.js"></script>
  <script src="Script/sessionCheck.js"></script>
  <script src="https://www.gstatic.com/firebasejs/4.10.1/firebase.js"></script>



<script>
	
	
 
//스크롤 자동으로 내리기
//setInterval(updateScroll,1000);   
function updateScroll() {
    var element = document.getElementById("scrollz");
    element.scrollTop = element.scrollHeight;
}




var firebaseEmailAuth; //파이어베이스 email 인증 모듈 전역변수
var firebaseDatabase; //파이어베이스 db 모듈 전역변수
var name; //유저 이름
var loginUserKey; //로그인한 유저의 부모 key
var userInfo; //로그인한 유저의 정보 object type
var brdno;




//파이어 베이스 초기화 코드
var config = {
    apiKey: "AIzaSyDQLUtjdMgOLDIZlPusi5YPKBiuQduD9Go",
    databaseURL: "https://mhazone-mha-default-rtdb.firebaseio.com/",
    authDomain: "mhazone-mha.firebaseapp.com",
    projectId: "mhazone-mha",
    storageBucket: "mhazone-mha.appspot.com",
    messagingSenderId: "967342331429",
    appId: "1:967342331429:web:8a5689ea4c254f037951cc",
    measurementId: "G-Z33QJ15H02"

};
//파이어베이스 초기화
firebase.initializeApp(config);
//인증모듈 객체 가져오기
firebaseEmailAuth = firebase.auth();
//데이터베이스 모듈객체 가져오기
firebaseDatabase = firebase.database();



//세션 체크 함수
userSessionCheck();



$(document).ready(function() {

    //메인화면 쓰기버튼 눌렀을 때
    $(document).on('click', '.write', function() {



        //네비게이션 메뉴의 text값 가져오기 - 자바스크립트 dom 방식으로 가져왔다.
        var seseionCheck = document.getElementById("loginmenu").textContent;

        //텍스트 필드에 있는 내용 가져오기!!!!
        comment = $('#comment').val();
        subject = $('#subject').val();

        if (seseionCheck == "로그아웃") {
            //저장하기
            saveThanks();
        } else {
            alert("비 로그인 이용자는 마한아 익명 게시판을 이용할 수 없습니다.")
            window.location.href = "loginform.html"

        }
    });


    $(document).on('click', '.create', function() {

        var seseionCheck = document.getElementById("loginmenu").textContent;

        if (seseionCheck == "로그아웃") {
            window.location.href = "create.html"

        } else {
            alert("비 로그인 이용자는 마한아 익명 게시판을 이용할 수 없습니다.")
            window.location.href = "loginform.html"

        }



    });


});



//쓰기 버튼 눌렀을 때 호출 되는 함수
function saveThanks() {

    //anounymous 라는 테이블을 만들고 하위 데이터에 유저 아이디를 넣어준다. 그곳에 push로 가상의 키를 넣고, 객체를 넣어준다.!!!!
    var thankRef = firebaseDatabase.ref("anounymous");
    // 해당 객체의 key 값이 자동으로 생성된다.
    var thank = thankRef.push(); // 해당 객체의 key 값이 자동으로 생성된다.

    var boardno = thank.key; //이 보드의 키값



    //로그인한 유저의 pk값,이름,내용,시간 데이터
    var obj = {
        name: name,
        userkey: loginUserKey,
        comment: comment,
        subject: subject,
        boardno: boardno, //이 보드의 키값
        cmtcount: 0,
        createtime: currentTime
    };
    //위에서 thankRef.push()로 만들어진 key아래 위치에 저장해준다.
    thank.set(obj);


    alert("글이 업로드 되었습니다");

    $('#comment').val("");
    $('#subject').val("");

}




//글 목록가져와서 뿌려주기
function boardList() {
    //alert("보드 로드 완료")

    //로그인한 유저라면
    if (loginUserKey) {
        //alert(loginUserKey)
        //글이 저장된 레퍼런스 값 가져오기
        var thanksRef = firebaseDatabase.ref('anounymous');
        //on 함수로 글 목록가져오기
        thanksRef.on('child_added', on_thanks_list)
        thanksRef.on('value', buttonadd)



        var thanksRef = firebaseDatabase.ref('notice');
        thanksRef.on('child_added', on_notice_list)

    } else {
        alert("비 로그인 유저에게는 게시물이 표시되지 않습니다. ");
        window.location.href = "loginform.html"

    }

}

//게시판 리스트 thanks 테이블의 thanks 키 들을 연속적으로 가져옴...ㅋㅋㅋㅋㅋ
function on_thanks_list(data) {




    console.log("on_thanks_list() 함수안으로 들어왔습니다 리스트를 가져오겠습니다")
    var key = data.key;


    var Data = data.val();
    var comment = Data.comment;
    var createtime = Data.createtime;
    var name = Data.name;
    var subject = Data.subject;
    var userkey = Data.userkey;
    var cmtcount = Data.cmtcount;
    var brdnm = Data.boardno;


    var boardno = Data.key; //이 보드의 키값

    //무슨값이 넘어오는지 찍어보세요
    //alert(comment +"/"+ createtime + "/"+name +"/"+userkey);

  
  //리스트 동적으로 붙이기
  var html =



  //게시물 아이디도 id=게시물아이디 + 아이디 (this.id) 해서 추가하기
              "<div class=\"card\" id='" + brdnm + "' onclick=\"show_board_page(this.id)\">" +
              "<div class=\"card-header bg-transparent\">" + "<div class=\"row align-items-center\">" + "<div class=\"col\">" +
              "<h5 style=\"font-size: 16px\" class=\"h3 mb-0\">" + "<a onclick=\"gotoComments(this.id)\" style=\"cursor: pointer; transition: background 0.5s ease-in-out;\" onMouseover=\"this.style.color='blue';\" onMouseout=\"this.style.color='black';\">" + subject +"</a></h5></br>" +
              "<h6 style=\"font-size: 5px\" class=\"text-uppercase text-muted ls-1 mb-1\">" + "익명이" + " : " + createtime + "</h6>" +

              "<a style=\"font-size: 13px\">" + comment + "</a></br>" + "<a style=\"color: #2e2d2a; cursor: pointer; font-size: 12px; float: right;\">" + "<i class=\"mdi mdi-chat text-blue\"></i>" + " " + cmtcount + "</a>" +
              "</div></div></div></div></br>";

       //   $(".thanksList").append(html);   //아래로 붙이기
          $(".boardList").prepend(html);   //위로 붙이기





}




function show_board_page(key) {
      location.href="comments.html?"+ key;
        
}









function on_notice_list(data) {
  console.log("on_thanks_list() 함수안으로 들어왔습니다 리스트를 가져오겠습니다")
  var key = data.key;

  var Data = data.val();
  var comment = Data.comment;
  var createtime = Data.createtime;
  var name = Data.name;
  var subject = Data.subject;
  var userkey = Data.userkey;

  //무슨값이 넘어오는지 찍어보세요
  //alert(comment +"/"+ createtime + "/"+name +"/"+userkey);


  //리스트 동적으로 붙이기
  var html =
              "<div class=\"card\" id='" + userkey + "' onclick=\"show_user_page(this.id)\">" +
              "<div class=\"card-header\">" +
              "<h4 class=\"media-heading\"><strong STYLE=\"color: #424242; font-size: 16pt\">" + subject + "</strong>" +
              " <span STYLE=\"color: black; font-size: 11pt\">" + "</br>" + comment + "</span></h4>" +
              "<p STYLE=\"color: black; font-size: 8pt\">" + name + " :: " + createtime + "</p></div></div>";

          $(".noticelist").prepend(html);



}

 



</script>



  <script src="vendors/js/vendor.bundle.base.js"></script>
  <script src="vendors/chart.js/Chart.min.js"></script>
  <script src="vendors/datatables.net/jquery.dataTables.js"></script>
  <script src="vendors/datatables.net-bs4/dataTables.bootstrap4.js"></script>
  <script src="js/dataTables.select.min.js"></script>
  <script src="js/off-canvas.js"></script>
  <script src="js/hoverable-collapse.js"></script>
  <script src="js/template.js"></script>
  <script src="js/settings.js"></script>
  <script src="js/todolist.js"></script>
  <script src="js/dashboard.js"></script>
  <script src="js/Chart.roundedBarCharts.js"></script>



</body>

</html>

